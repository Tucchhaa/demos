(()=>{"use strict";const e=e=>null!=e,t=()=>{};class n{constructor(){this.handlers=[]}on(e){this.handlers.push(e)}emit(e){for(const t of this.handlers)t(e)}}class o{constructor(){this.update=new n}}const r=(e,t)=>{const n=`_${t}`;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return this[n]},set:function(e){const o=this[n];this[n]=e,this.onPropertyValueChanged(t,e,o)}})},i=e=>class extends e{constructor(...e){super(...e);const t=e[0];this.assignState(t)}};class s{onPropertyValueChanged(e,t,n){this.events.update.emit({name:e,value:t,prevValue:n})}constructor(e){this.events=new o}assignState(t){if(e(t))for(const[e,n]of Object.entries(t))this[e]=n}}!function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([(e,t,n)=>{const o=n.value;n.value=function(...e){return o.apply(this,e)}}],s.prototype,"onPropertyValueChanged",null);var l=function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let a=class extends s{constructor(){super(...arguments),this.onClick=t,this.style="filled",this.elevated=!1,this.disabled=!1}};l([r],a.prototype,"onClick",void 0),l([r],a.prototype,"text",void 0),l([r],a.prototype,"style",void 0),l([r],a.prototype,"elevated",void 0),l([r],a.prototype,"icon",void 0),l([r],a.prototype,"disabled",void 0),a=l([i],a);class c{constructor(t,n){this.views={},this.controllers={},e(n)&&this.setDataSource(n),this.setModel(t),this.registerModules(),this.modules=[...Object.values(this.views),...Object.values(this.controllers)],this.initializeModules()}setModel(e){this.model=e,this.model.events.update.on(this.stateUpdateHandler.bind(this))}setDataSource(e){this.dataSource=e,this.dataSource.events.change.on(this.dataChangeHandler.bind(this))}registerController(t){const n=t.constructor.name;if(e(this.controllers[n]))throw new Error(`Controller with name ${n} is already defined.`);this.controllers[n]=t}registerView(t){const n=t.constructor.name;if(e(this.views[n]))throw new Error(`View with name ${n} is already defined.`);this.views[n]=t}initializeModules(){for(const e of this.modules)e.initialize()}static render(e){throw new Error("Not implemented")}render(e){this.container=e,this.container.innerHTML="";for(const t of Object.values(this.views))t.render(e);return this}stateUpdateHandler(e){for(const t of this.modules)t.onStateUpdate(e)}dataChangeHandler(e){for(const t of this.modules)t.onDataChange(e)}getView(t){t="string"==typeof t?t:t.name;const n=this.views[t];if(e(n))return n;throw new Error("Invalid view name "+t)}getController(t){t="string"==typeof t?t:t.name;const n=this.controllers[t];if(e(n))return n;throw new Error("Invalid controller name "+t)}}c.componentName="Jet";class u{get model(){return this.component.model}get dataSource(){return this.component.dataSource}constructor(e){this.component=e}initialize(){}onStateUpdate(e){}onDataChange(e){}getView(e){return this.component.getView(e)}getController(e){return this.component.getController(e)}getPublicComponent(){return this.component}}var d=Array.isArray;function f(e){var t=typeof e;return"string"===t||"number"===t}function h(e){return null==e}function p(e){return null===e||!1===e||!0===e||void 0===e}function v(e){return"function"==typeof e}function m(e){return"string"==typeof e}function g(e){return null===e}function y(e,t){var n={};if(e)for(var o in e)n[o]=e[o];if(t)for(var r in t)n[r]=t[r];return n}function w(e){return!g(e)&&"object"==typeof e}var C={},b=function(){this.componentDidAppear=[],this.componentWillDisappear=[],this.componentWillMove=[]};function k(e){return e.substring(2).toLowerCase()}function $(e,t){e.appendChild(t)}function x(e,t,n){g(n)?$(e,t):e.insertBefore(t,n)}function I(e,t){e.removeChild(t)}function S(e){for(var t=0;t<e.length;t++)e[t]()}function P(e,t,n){var o=e.children;return 4&n?o.$LI:8192&n?2===e.childFlags?o:o[t?0:o.length-1]:o}function V(e,t){for(var n;e;){if(1521&(n=e.flags))return e.dom;e=P(e,t,n)}return null}function D(e,t){for(var n,o=e.length;void 0!==(n=e.pop());)n((function(){--o<=0&&v(t)&&t()}))}function M(e,t,n){do{var o=e.flags;if(1521&o)return void(n&&e.dom.parentNode!==t||I(t,e.dom));var r=e.children;if(4&o&&(e=r.$LI),8&o&&(e=r),8192&o){if(2!==e.childFlags){for(var i=0,s=r.length;i<s;++i)M(r[i],t,!1);return}e=r}}while(e)}function U(e,t,n){n.componentWillDisappear.length>0?D(n.componentWillDisappear,function(e,t){return function(){M(e,t,!0)}}(e,t)):M(e,t,!1)}function N(e,t,n,o,r,i,s,l){e.componentWillMove.push({dom:o,fn:function(){4&s?n.componentWillMove(t,r,o):8&s&&n.onComponentWillMove(t,r,o,l)},next:i,parent:r})}function L(e,t,n,o,r){var i,s,l=t.flags;do{var a=t.flags;if(1521&a)return void(h(i)||!v(i.componentWillMove)&&!v(i.onComponentWillMove)?x(n,t.dom,o):N(r,e,i,t.dom,n,o,l,s));var c=t.children;if(4&a)i=t.children,s=t.props,t=c.$LI;else if(8&a)i=t.ref,s=t.props,t=c;else if(8192&a){if(2!==t.childFlags){for(var u=0,d=c.length;u<d;++u)L(e,c[u],n,o,r);return}t=c}}while(t)}function O(e,t,n){return e.constructor.getDerivedStateFromProps?y(n,e.constructor.getDerivedStateFromProps(t,n)):n}var F={v:!1},j={componentComparator:null,createVNode:null,renderComplete:null};function R(e,t){e.textContent=t}function E(e,t){return w(e)&&e.event===t.event&&e.data===t.data}function W(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function B(e,t){return!!v(e)&&(e(t),!0)}var A="$";function K(e,t,n,o,r,i,s,l){this.childFlags=e,this.children=t,this.className=n,this.dom=null,this.flags=o,this.key=void 0===r?null:r,this.props=void 0===i?null:i,this.ref=void 0===s?null:s,this.type=l}function T(e,t,n,o,r,i,s,l){var a=void 0===r?1:r,c=new K(a,o,n,e,s,i,l,t);return j.createVNode&&j.createVNode(c),0===a&&function(e,t){var n,o=1;if(p(t))n=t;else if(f(t))o=16,n=t;else if(d(t)){for(var r=t.length,i=0;i<r;++i){var s=t[i];if(p(s)||d(s)){n=n||t.slice(0,i),G(t,n,i,"");break}if(f(s))(n=n||t.slice(0,i)).push(z(s,A+i));else{var l=s.key,a=(81920&s.flags)>0,c=g(l),u=m(l)&&l[0]===A;a||c||u?(n=n||t.slice(0,i),(a||u)&&(s=Q(s)),(c||u)&&(s.key=A+i),n.push(s)):n&&n.push(s),s.flags|=65536}}o=0===(n=n||t).length?1:8}else(n=t).flags|=65536,81920&t.flags&&(n=Q(t)),o=2;e.children=n,e.childFlags=o}(c,c.children),c}function z(e,t){return new K(1,h(e)||!0===e||!1===e?"":e,null,16,t,null,null,null)}function H(e,t,n){var o=T(8192,8192,null,e,t,null,n,null);switch(o.childFlags){case 1:o.children=_(),o.childFlags=2;break;case 16:o.children=[z(e)],o.childFlags=4}return o}function Q(e){var t=-16385&e.flags,n=e.props;if(14&t&&!g(n)){var o=n;for(var r in n={},o)n[r]=o[r]}return 0==(8192&t)?new K(e.childFlags,e.children,e.className,t,e.key,n,e.ref,e.type):function(e){var t=e.children,n=e.childFlags;return H(2===n?Q(t):t.map(Q),n,e.key)}(e)}function _(){return z("",null)}function G(e,t,n,o){for(var r=e.length;n<r;n++){var i=e[n];if(!p(i)){var s=o+A+n;if(d(i))G(i,t,0,s);else{if(f(i))i=z(i,s);else{var l=i.key,a=m(l)&&l[0]===A;(81920&i.flags||a)&&(i=Q(i)),i.flags|=65536,a?l.substring(0,o.length)!==o&&(i.key=o+l):g(l)?i.key=s:i.key=o+l}t.push(i)}}}}function J(e){return p(e)||f(e)?z(e,null):d(e)?H(e,0,null):16384&e.flags?Q(e):e}var X="http://www.w3.org/1999/xlink",q="http://www.w3.org/XML/1998/namespace",Y={"xlink:actuate":X,"xlink:arcrole":X,"xlink:href":X,"xlink:role":X,"xlink:show":X,"xlink:title":X,"xlink:type":X,"xml:base":q,"xml:lang":q,"xml:space":q};function Z(e){return{onClick:e,onDblClick:e,onFocusIn:e,onFocusOut:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onMouseDown:e,onMouseMove:e,onMouseUp:e,onTouchEnd:e,onTouchMove:e,onTouchStart:e}}var ee=Z(0),te=Z(null),ne=Z(!0);function oe(e,t){var n=t.$EV;return n||(n=t.$EV=Z(null)),n[e]||1==++ee[e]&&(te[e]=function(e){var t="onClick"===e||"onDblClick"===e?function(e){return function(t){0===t.button?ie(t,!0,e,ce(t)):t.stopPropagation()}}(e):function(e){return function(t){ie(t,!1,e,ce(t))}}(e);return document.addEventListener(k(e),t),t}(e)),n}function re(e,t){var n=t.$EV;n&&n[e]&&(0==--ee[e]&&(document.removeEventListener(k(e),te[e]),te[e]=null),n[e]=null)}function ie(e,t,n,o){var r=function(e){return v(e.composedPath)?e.composedPath()[0]:e.target}(e);do{if(t&&r.disabled)return;var i=r.$EV;if(i){var s=i[n];if(s&&(o.dom=r,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}r=r.parentNode}while(!g(r))}function se(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function le(){return this.defaultPrevented}function ae(){return this.cancelBubble}function ce(e){var t={dom:document};return e.isDefaultPrevented=le,e.isPropagationStopped=ae,e.stopPropagation=se,Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return t.dom}}),t}function ue(e,t,n){if(e[t]){var o=e[t];o.event?o.event(o.data,n):o(n)}else{var r=t.toLowerCase();e[r]&&e[r](n)}}function de(e,t){var n=function(n){var o=this.$V;if(o){var r=o.props||C,i=o.dom;if(m(e))ue(r,e,n);else for(var s=0;s<e.length;++s)ue(r,e[s],n);if(v(t)){var l=this.$V,a=l.props||C;t(a,i,!1,l)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function fe(e,t,n){var o="$"+t,r=e[o];if(r){if(r[1].wrapped)return;e.removeEventListener(r[0],r[1]),e[o]=null}v(n)&&(e.addEventListener(t,n),e[o]=[t,n])}function he(e){return"checkbox"===e||"radio"===e}var pe=de("onInput",ge),ve=de(["onClick","onChange"],ge);function me(e){e.stopPropagation()}function ge(e,t){var n=e.type,o=e.value,r=e.checked,i=e.multiple,s=e.defaultValue,l=!h(o);n&&n!==t.type&&t.setAttribute("type",n),h(i)||i===t.multiple||(t.multiple=i),h(s)||l||(t.defaultValue=s+""),he(n)?(l&&(t.value=o),h(r)||(t.checked=r)):l&&t.value!==o?(t.defaultValue=o,t.value=o):h(r)||(t.checked=r)}function ye(e,t){if("option"===e.type)!function(e,t){var n=e.props||C,o=e.dom;o.value=n.value,n.value===t||d(t)&&-1!==t.indexOf(n.value)?o.selected=!0:h(t)&&h(n.selected)||(o.selected=n.selected||!1)}(e,t);else{var n=e.children,o=e.flags;if(4&o)ye(n.$LI,t);else if(8&o)ye(n,t);else if(2===e.childFlags)ye(n,t);else if(12&e.childFlags)for(var r=0,i=n.length;r<i;++r)ye(n[r],t)}}me.wrapped=!0;var we=de("onChange",Ce);function Ce(e,t,n,o){var r=Boolean(e.multiple);h(e.multiple)||r===t.multiple||(t.multiple=r);var i=e.selectedIndex;if(-1===i&&(t.selectedIndex=-1),1!==o.childFlags){var s=e.value;"number"==typeof i&&i>-1&&t.options[i]&&(s=t.options[i].value),n&&h(s)&&(s=e.defaultValue),ye(o,s)}}var be,ke,$e=de("onInput",Ie),xe=de("onChange");function Ie(e,t,n){var o=e.value,r=t.value;if(h(o)){if(n){var i=e.defaultValue;h(i)||i===r||(t.defaultValue=i,t.value=i)}}else r!==o&&(t.defaultValue=o,t.value=o)}function Se(e,t,n,o,r,i){64&e?ge(o,n):256&e?Ce(o,n,r,t):128&e&&Ie(o,n,r),i&&(n.$V=t)}function Pe(e){return e.type&&he(e.type)?!h(e.checked):!h(e.value)}function Ve(e){e&&!B(e,null)&&e.current&&(e.current=null)}function De(e,t,n){e&&(v(e)||void 0!==e.current)&&n.push((function(){B(e,t)||void 0===e.current||(e.current=t)}))}function Me(e,t,n){Ue(e,n),U(e,t,n)}function Ue(e,t){var n,o=e.flags,r=e.children;if(481&o){n=e.ref;var i=e.props;Ve(n);var s=e.childFlags;if(!g(i))for(var l=Object.keys(i),a=0,c=l.length;a<c;a++){var u=l[a];ne[u]&&re(u,e.dom)}12&s?Ne(r,t):2===s&&Ue(r,t)}else if(r)if(4&o){v(r.componentWillUnmount)&&r.componentWillUnmount();var d=t;v(r.componentWillDisappear)&&(d=new b,Fe(t,r,r.$LI.dom,o,void 0)),Ve(e.ref),r.$UN=!0,Ue(r.$LI,d)}else if(8&o){var f=t;if(!h(n=e.ref)){var p=null;v(n.onComponentWillUnmount)&&(p=V(e,!0),n.onComponentWillUnmount(p,e.props||C)),v(n.onComponentWillDisappear)&&(f=new b,Fe(t,n,p=p||V(e,!0),o,e.props))}Ue(r,f)}else 1024&o?Me(r,e.ref,t):8192&o&&12&e.childFlags&&Ne(r,t)}function Ne(e,t){for(var n=0,o=e.length;n<o;++n)Ue(e[n],t)}function Le(e,t,n){n.componentWillDisappear.length>0?D(n.componentWillDisappear,function(e,t){return function(){if(t)for(var n=0;n<e.length;n++)M(e[n],t,!1)}}(t,e)):e.textContent=""}function Oe(e,t,n,o){Ne(n,o),8192&t.flags?U(t,e,o):Le(e,n,o)}function Fe(e,t,n,o,r){e.componentWillDisappear.push((function(e){4&o?t.componentWillDisappear(n,e):8&o&&t.onComponentWillDisappear(n,r,e)}))}function je(e,t,n,o,r,i,s,l){switch(e){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":o.autofocus=!!n;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":o[e]=!!n;break;case"defaultChecked":case"value":case"volume":if(i&&"value"===e)break;var a=h(n)?"":n;o[e]!==a&&(o[e]=a);break;case"style":!function(e,t,n){if(h(t))n.removeAttribute("style");else{var o,r,i=n.style;if(m(t))i.cssText=t;else if(h(e)||m(e))for(o in t)r=t[o],i.setProperty(o,r);else{for(o in t)(r=t[o])!==e[o]&&i.setProperty(o,r);for(o in e)h(t[o])&&i.removeProperty(o)}}}(t,n,o);break;case"dangerouslySetInnerHTML":!function(e,t,n,o,r){var i=e&&e.__html||"",s=t&&t.__html||"";i!==s&&(h(s)||function(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}(o,s)||(g(n)||(12&n.childFlags?Ne(n.children,r):2===n.childFlags&&Ue(n.children,r),n.children=null,n.childFlags=1),o.innerHTML=s))}(t,n,s,o,l);break;default:ne[e]?function(e,t,n,o){if(v(n))oe(e,o)[e]=n;else if(w(n)){if(E(t,n))return;oe(e,o)[e]=n}else re(e,o)}(e,t,n,o):111===e.charCodeAt(0)&&110===e.charCodeAt(1)?function(e,t,n,o){if(w(n)){if(E(t,n))return;n=function(e){var t=e.event;return function(n){t(e.data,n)}}(n)}fe(o,k(e),n)}(e,t,n,o):h(n)?o.removeAttribute(e):r&&Y[e]?o.setAttributeNS(Y[e],e,n):o.setAttribute(e,n)}}function Re(e,t,n){var o=J(e.render(t,e.state,n)),r=n;return v(e.getChildContext)&&(r=y(n,e.getChildContext())),e.$CX=r,o}function Ee(e,t){var n=e.props||C;return 32768&e.flags?e.type.render(n,e.ref,t):e.type(n,t)}function We(e,t,n,o,r,i,s){var l=e.flags|=16384;481&l?function(e,t,n,o,r,i,s){var l=e.flags,a=e.props,c=e.className,u=e.childFlags,d=e.dom=function(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(e.type,o=o||(32&l)>0),f=e.children;if(h(c)||""===c||(o?d.setAttribute("class",c):d.className=c),16===u)R(d,f);else if(1!==u){var p=o&&"foreignObject"!==e.type;2===u?(16384&f.flags&&(e.children=f=Q(f)),We(f,d,n,p,null,i,s)):8!==u&&4!==u||Ae(f,d,n,p,null,i,s)}g(t)||x(t,d,r),g(a)||function(e,t,n,o,r,i){var s=!1,l=(448&t)>0;for(var a in l&&(s=Pe(n))&&function(e,t,n){64&e?function(e,t){he(t.type)?(fe(e,"change",ve),fe(e,"click",me)):fe(e,"input",pe)}(t,n):256&e?function(e){fe(e,"change",we)}(t):128&e&&function(e,t){fe(e,"input",$e),t.onChange&&fe(e,"change",xe)}(t,n)}(t,o,n),n)je(a,null,n[a],o,r,s,null,i);l&&Se(t,e,o,n,!0,s)}(e,l,a,d,o,s),De(e.ref,d,i)}(e,t,n,o,r,i,s):4&l?function(e,t,n,o,r,i,s){var l=function(e,t,n,o,r,i){var s=new t(n,o),l=s.$N=Boolean(t.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=r,s.$L=i,e.children=s,s.$BS=!1,s.context=o,s.props===C&&(s.props=n),l)s.state=O(s,n,s.state);else if(v(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var a=s.$PS;if(!g(a)){var c=s.state;if(g(c))s.state=a;else for(var u in a)c[u]=a[u];s.$PS=null}s.$BR=!1}return s.$LI=Re(s,n,o),s}(e,e.type,e.props||C,n,o,i),a=s;v(l.componentDidAppear)&&(a=new b),We(l.$LI,t,l.$CX,o,r,i,a),function(e,t,n,o){De(e,t,n),v(t.componentDidMount)&&n.push(function(e){return function(){e.componentDidMount()}}(t)),v(t.componentDidAppear)&&Ke(o,t,t.$LI.dom,4,void 0)}(e.ref,l,i,s)}(e,t,n,o,r,i,s):8&l?function(e,t,n,o,r,i,s){var l=e.ref,a=s;!h(l)&&v(l.onComponentDidAppear)&&(a=new b),We(e.children=J(Ee(e,n)),t,n,o,r,i,a),function(e,t,n){var o=e.ref;h(o)||(B(o.onComponentWillMount,e.props||C),v(o.onComponentDidMount)&&t.push(function(e,t){return function(){e.onComponentDidMount(V(t,!0),t.props||C)}}(o,e)),v(o.onComponentDidAppear)&&Ke(n,o,V(e,!0),8,e.props))}(e,i,s)}(e,t,n,o,r,i,s):16&l?Be(e,t,r):8192&l?function(e,t,n,o,r,i,s){var l=e.children,a=e.childFlags;12&a&&0===l.length&&(a=e.childFlags=2,l=e.children=_()),2===a?We(l,n,t,o,r,i,s):Ae(l,n,t,o,r,i,s)}(e,n,t,o,r,i,s):1024&l&&function(e,t,n,o,r,i){We(e.children,e.ref,t,!1,null,r,i);var s=_();Be(s,n,o),e.dom=s.dom}(e,n,t,r,i,s)}function Be(e,t,n){var o=e.dom=document.createTextNode(e.children);g(t)||x(t,o,n)}function Ae(e,t,n,o,r,i,s){for(var l=0;l<e.length;++l){var a=e[l];16384&a.flags&&(e[l]=a=Q(a)),We(a,t,n,o,r,i,s)}}function Ke(e,t,n,o,r){e.componentDidAppear.push((function(){4&o?t.componentDidAppear(n):8&o&&t.onComponentDidAppear(n,r)}))}function Te(e,t,n,o,r,i,s,l){var a=t.flags|=16384;e.flags!==a||e.type!==t.type||e.key!==t.key||2048&a?16384&e.flags?function(e,t,n,o,r,i,s){Ue(e,s),0!=(t.flags&e.flags&1521)?(We(t,null,o,r,null,i,s),function(e,t,n){e.replaceChild(t,n)}(n,t.dom,e.dom)):(We(t,n,o,r,V(e,!0),i,s),U(e,n,s))}(e,t,n,o,r,s,l):We(t,n,o,r,i,s,l):481&a?function(e,t,n,o,r,i,s){var l,a=t.dom=e.dom,c=e.props,u=t.props,d=!1,f=!1;if(o=o||(32&r)>0,c!==u){var p=c||C;if((l=u||C)!==C)for(var v in(d=(448&r)>0)&&(f=Pe(l)),l){var m=p[v],g=l[v];m!==g&&je(v,m,g,a,o,f,e,s)}if(p!==C)for(var y in p)h(l[y])&&!h(p[y])&&je(y,p[y],null,a,o,f,e,s)}var w=t.children,b=t.className;e.className!==b&&(h(b)?a.removeAttribute("class"):o?a.setAttribute("class",b):a.className=b),4096&r?function(e,t){e.textContent!==t&&(e.textContent=t)}(a,w):ze(e.childFlags,t.childFlags,e.children,w,a,n,o&&"foreignObject"!==t.type,null,e,i,s),d&&Se(r,t,a,l,!1,f);var k=t.ref,$=e.ref;$!==k&&(Ve($),De(k,a,i))}(e,t,o,r,a,s,l):4&a?function(e,t,n,o,r,i,s,l){var a=t.children=e.children;if(!g(a)){a.$L=s;var c=t.props||C,u=t.ref,d=e.ref,f=a.state;if(!a.$N){if(v(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(c,o),a.$UN)return;a.$BR=!1}g(a.$PS)||(f=y(f,a.$PS),a.$PS=null)}He(a,f,c,n,o,r,!1,i,s,l),d!==u&&(Ve(d),De(u,a,s))}}(e,t,n,o,r,i,s,l):8&a?function(e,t,n,o,r,i,s,l){var a=!0,c=t.props||C,u=t.ref,d=e.props,f=!h(u),p=e.children;if(f&&v(u.onComponentShouldUpdate)&&(a=u.onComponentShouldUpdate(d,c)),!1!==a){f&&v(u.onComponentWillUpdate)&&u.onComponentWillUpdate(d,c);var m=J(Ee(t,o));Te(p,m,n,o,r,i,s,l),t.children=m,f&&v(u.onComponentDidUpdate)&&u.onComponentDidUpdate(d,c)}else t.children=p}(e,t,n,o,r,i,s,l):16&a?function(e,t){var n=t.children,o=t.dom=e.dom;n!==e.children&&(o.nodeValue=n)}(e,t):8192&a?function(e,t,n,o,r,i,s){var l=e.children,a=t.children,c=e.childFlags,u=t.childFlags,d=null;12&u&&0===a.length&&(u=t.childFlags=2,a=t.children=_());var f=0!=(2&u);if(12&c){var h=l.length;(8&c&&8&u||f||!f&&a.length>h)&&(d=V(l[h-1],!1).nextSibling)}ze(c,u,l,a,n,o,r,d,e,i,s)}(e,t,n,o,r,s,l):function(e,t,n,o,r){var i=e.ref,s=t.ref,l=t.children;if(ze(e.childFlags,t.childFlags,e.children,l,i,n,!1,null,e,o,r),t.dom=e.dom,i!==s&&!p(l)){var a=l.dom;I(i,a),$(s,a)}}(e,t,o,s,l)}function ze(e,t,n,o,r,i,s,l,a,c,u){switch(e){case 2:switch(t){case 2:Te(n,o,r,i,s,l,c,u);break;case 1:Me(n,r,u);break;case 16:Ue(n,u),R(r,o);break;default:!function(e,t,n,o,r,i,s){Ue(e,s),Ae(t,n,o,r,V(e,!0),i,s),U(e,n,s)}(n,o,r,i,s,c,u)}break;case 1:switch(t){case 2:We(o,r,i,s,l,c,u);break;case 1:break;case 16:R(r,o);break;default:Ae(o,r,i,s,l,c,u)}break;case 16:switch(t){case 16:!function(e,t,n){e!==t&&(""!==e?n.firstChild.nodeValue=t:R(n,t))}(n,o,r);break;case 2:Le(r,n,u),We(o,r,i,s,l,c,u);break;case 1:Le(r,n,u);break;default:Le(r,n,u),Ae(o,r,i,s,l,c,u)}break;default:switch(t){case 16:Ne(n,u),R(r,o);break;case 2:Oe(r,a,n,u),We(o,r,i,s,l,c,u);break;case 1:Oe(r,a,n,u);break;default:var d=0|n.length,f=0|o.length;0===d?f>0&&Ae(o,r,i,s,l,c,u):0===f?Oe(r,a,n,u):8===t&&8===e?function(e,t,n,o,r,i,s,l,a,c,u){var d,f,h=i-1,p=s-1,v=0,m=e[v],g=t[v];e:{for(;m.key===g.key;){if(16384&g.flags&&(t[v]=g=Q(g)),Te(m,g,n,o,r,l,c,u),e[v]=g,++v>h||v>p)break e;m=e[v],g=t[v]}for(m=e[h],g=t[p];m.key===g.key;){if(16384&g.flags&&(t[p]=g=Q(g)),Te(m,g,n,o,r,l,c,u),e[h]=g,p--,v>--h||v>p)break e;m=e[h],g=t[p]}}if(v>h){if(v<=p)for(f=(d=p+1)<s?V(t[d],!0):l;v<=p;)16384&(g=t[v]).flags&&(t[v]=g=Q(g)),++v,We(g,n,o,r,f,c,u)}else if(v>p)for(;v<=h;)Me(e[v++],n,u);else!function(e,t,n,o,r,i,s,l,a,c,u,d,f,h){var p,v,m=0,g=0,y=l,w=l,C=i-l+1,b=s-l+1,k=new Int32Array(b+1),$=C===o,I=!1,S=0,P=0;if(r<4||(C|b)<32)for(g=y;g<=i;++g)if(p=e[g],P<b){for(l=w;l<=s;l++)if(v=t[l],p.key===v.key){if(k[l-w]=g+1,$)for($=!1;y<g;)Me(e[y++],a,h);S>l?I=!0:S=l,16384&v.flags&&(t[l]=v=Q(v)),Te(p,v,a,n,c,u,f,h),++P;break}!$&&l>s&&Me(p,a,h)}else $||Me(p,a,h);else{var D={};for(g=w;g<=s;++g)D[t[g].key]=g;for(g=y;g<=i;++g)if(p=e[g],P<b)if(void 0!==(l=D[p.key])){if($)for($=!1;g>y;)Me(e[y++],a,h);k[l-w]=g+1,S>l?I=!0:S=l,16384&(v=t[l]).flags&&(t[l]=v=Q(v)),Te(p,v,a,n,c,u,f,h),++P}else $||Me(p,a,h);else $||Me(p,a,h)}if($)Oe(a,d,e,h),Ae(t,a,n,c,u,f,h);else if(I){var M=function(e){var t=0,n=0,o=0,r=0,i=0,s=0,l=0,a=e.length;for(a>Qe&&(Qe=a,be=new Int32Array(a),ke=new Int32Array(a));n<a;++n)if(0!==(t=e[n])){if(e[o=be[r]]<t){ke[n]=o,be[++r]=n;continue}for(i=0,s=r;i<s;)e[be[l=i+s>>1]]<t?i=l+1:s=l;t<e[be[i]]&&(i>0&&(ke[n]=be[i-1]),be[i]=n)}i=r+1;var c=new Int32Array(i);for(s=be[i-1];i-- >0;)c[i]=s,s=ke[s],be[i]=0;return c}(k);for(l=M.length-1,g=b-1;g>=0;g--)0===k[g]?(16384&(v=t[S=g+w]).flags&&(t[S]=v=Q(v)),We(v,a,n,c,(m=S+1)<r?V(t[m],!0):u,f,h)):l<0||g!==M[l]?L(d,v=t[S=g+w],a,(m=S+1)<r?V(t[m],!0):u,h):l--;h.componentWillMove.length>0&&function(e){for(var t=0;t<e.length;t++)e[t].fn();for(var n=0;n<e.length;n++){var o=e[n];x(o.parent,o.dom,o.next)}e.splice(0,e.length)}(h.componentWillMove)}else if(P!==b)for(g=b-1;g>=0;g--)0===k[g]&&(16384&(v=t[S=g+w]).flags&&(t[S]=v=Q(v)),We(v,a,n,c,(m=S+1)<r?V(t[m],!0):u,f,h))}(e,t,o,i,s,h,p,v,n,r,l,a,c,u)}(n,o,r,i,s,d,f,l,a,c,u):function(e,t,n,o,r,i,s,l,a,c){for(var u,d,f=i>s?s:i,h=0;h<f;++h)u=t[h],d=e[h],16384&u.flags&&(u=t[h]=Q(u)),Te(d,u,n,o,r,l,a,c),e[h]=u;if(i<s)for(h=f;h<s;++h)16384&(u=t[h]).flags&&(u=t[h]=Q(u)),We(u,n,o,r,l,a,c);else if(i>s)for(h=f;h<i;++h)Me(e[h],n,c)}(n,o,r,i,s,d,f,l,c,u)}}}function He(e,t,n,o,r,i,s,l,a,c){var u=e.state,d=e.props,f=Boolean(e.$N),h=v(e.shouldComponentUpdate);if(f&&(t=O(e,n,t!==u?y(u,t):t)),s||!h||h&&e.shouldComponentUpdate(n,t,r)){!f&&v(e.componentWillUpdate)&&e.componentWillUpdate(n,t,r),e.props=n,e.state=t,e.context=r;var p=null,m=Re(e,n,r);f&&v(e.getSnapshotBeforeUpdate)&&(p=e.getSnapshotBeforeUpdate(d,u)),Te(e.$LI,m,o,e.$CX,i,l,a,c),e.$LI=m,v(e.componentDidUpdate)&&function(e,t,n,o,r){r.push((function(){e.componentDidUpdate(t,n,o)}))}(e,d,u,p,a)}else e.props=n,e.state=t,e.context=r}var Qe=0;"undefined"!=typeof document&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);var _e=[],Ge="undefined"!=typeof Promise?Promise.resolve().then.bind(Promise.resolve()):function(e){window.setTimeout(e,0)},Je=!1;function Xe(e,t,n,o){var r=e.$PS;if(v(t)&&(t=t(r?y(e.state,r):e.state,e.props,e.context)),h(r))e.$PS=t;else for(var i in t)r[i]=t[i];if(e.$BR)v(n)&&e.$L.push(n.bind(e));else{if(!F.v&&0===_e.length)return Ze(e,o),void(v(n)&&n.call(e));if(-1===_e.indexOf(e)&&_e.push(e),o&&(e.$F=!0),Je||(Je=!0,Ge(Ye)),v(n)){var s=e.$QU;s||(s=e.$QU=[]),s.push(n)}}}function qe(e){for(var t=e.$QU,n=0;n<t.length;++n)t[n].call(e);e.$QU=null}function Ye(){var e;for(Je=!1;e=_e.shift();)if(!e.$UN){var t=e.$F;e.$F=!1,Ze(e,t),e.$QU&&qe(e)}}function Ze(e,t){if(t||!e.$BR){var n=e.$PS;e.$PS=null;var o=[],r=new b;F.v=!0,He(e,y(e.state,n),e.props,V(e.$LI,!0).parentNode,e.context,e.$SVG,t,null,o,r),S(o),D(r.componentDidAppear),F.v=!1}else e.state=e.$PS,e.$PS=null}var et=function(){function e(e,t){this.state=null,this.props=void 0,this.context=void 0,this.displayName=void 0,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$SSR=void 0,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||C,this.context=t||C}var t=e.prototype;return t.forceUpdate=function(e){this.$UN||Xe(this,{},e,!0)},t.setState=function(e,t){this.$UN||this.$BS||Xe(this,e,t,!1)},t.render=function(e,t,n){return null},e}();et.defaultProps=null;const tt=["component","no-select"];class nt extends et{constructor(e){super(e),this.rootRef={current:null},this.view=e.view,this.component=e.component,this.model=e.model,this.componentName=Object.getPrototypeOf(this.component).constructor.componentName.toLowerCase()}componentDidMount(){this.rootRef.current&&this.setStateEventListeners(this.rootRef)}containerCssClass(e=[]){const t=["component",this.componentName].concat(e);return this.cssClass(t)}cssClass(e=[]){const t=Array.isArray(e)?e:[e],n=t.filter((e=>this.isJetClass(e))).map((e=>`jet-${e}`)),o=t.filter((e=>!this.isJetClass(e))).map((e=>`jet-${this.componentName}-${e}`));return o.concat(n).join(" ")}isJetClass(e){return tt.includes(e)||e===this.componentName}setStateEventListeners(e){const t=this.cssClass(this.componentName),n=e.current,o=e=>e.map((e=>`${t}-${e}`)),r=(...e)=>n.classList.add(...o(e)),i=(...e)=>n.classList.remove(...o(e));n.addEventListener("focusin",(()=>r("focused"))),n.addEventListener("focusout",(()=>i("focused"))),n.addEventListener("mouseover",(()=>r("hovered"))),n.addEventListener("mouseleave",(()=>i("hovered","clicked"))),n.addEventListener("mousedown",(()=>r("clicked"))),n.addEventListener("mouseup",(()=>i("clicked")))}eventHandler(e){return t=>{e(t)}}}function ot(e){return null==e}function rt(e){return void 0===e}var it={onComponentDidAppear:1,onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillDisappear:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function st(e,t,n){var o,r,i,s=null,l=null,a=null,c=arguments.length-2;if(1===c)o=n;else if(c>1)for(o=[];c-- >0;)o[c]=arguments[c+2];if("string"!=typeof e){if(r=2,rt(o)||(t||(t={}),t.children=o),!ot(t))for(var u in i={},t)"key"===u?l=t.key:"ref"===u?s=t.ref:1===it[u]?(s||(s={}),s[u]=t[u]):i[u]=t[u];return function(e,t,n,o,r){e=function(e,t){return 12&e?e:t.prototype&&t.prototype.render?4:t.render?32776:8}(e,t);var i=new K(1,null,null,e,o,function(e,t,n){var o=(32768&e?t.render:t).defaultProps;return h(o)?n:h(n)?y(o,null):W(n,o)}(e,t,n),function(e,t,n){if(4&e)return n;var o=(32768&e?t.render:t).defaultHooks;return h(o)?n:h(n)?o:W(n,o)}(e,t,r),t);return j.createVNode&&j.createVNode(i),i}(r,e,i,l,s)}if(r=function(e){switch(e){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case"$F":return 8192;default:return 1}}(e),!ot(t))for(var d in i={},t)"className"===d||"class"===d?a=t[d]:"key"===d?l=t.key:"children"===d&&rt(o)?o=t.children:"ref"===d?s=t.ref:("contenteditable"===d&&(r|=4096),i[d]=t[d]);return 8192&r?H(1===c?[o]:o,0,l):T(r,e,a,o,0,i,l,s)}class lt{get model(){return this.component.model}constructor(e,t){this.view=e,this.componentView=t,this.component=e.component}render(e){this.container=e}}class at extends lt{render(e){super.render(e);const t={view:this.view,component:this.component,model:this.model};var n,o,r,i;this.element=st(this.componentView,t),n=this.element,o=this.container,void 0===r&&(r=null),void 0===i&&(i=C),function(e,t,n,o){var r=[],i=new b,s=t.$V;F.v=!0,h(s)?h(e)||(16384&e.flags&&(e=Q(e)),We(e,t,o,!1,null,r,i),t.$V=e,s=e):h(e)?(Me(s,t,i),t.$V=null):(16384&e.flags&&(e=Q(e)),Te(s,e,t,o,!1,null,r,i),s=t.$V=e),S(r),D(i.componentDidAppear),F.v=!1,v(n)&&n(),v(j.renderComplete)&&j.renderComplete(s,t)}(n,o,r,i)}onStateUpdate(){this.element.children.forceUpdate()}onDataChange(){var e,t;null===(t=(e=this.element.children).onDataChange)||void 0===t||t.call(e)}}class ct extends u{setView(e){e.prototype instanceof nt&&(this.componentViewManager=new at(this,e))}render(t){if(!e(this.componentViewManager))throw new Error("View.componentView is undefined. Use setView in initialize() to define it");this.componentViewManager.render(t)}onStateUpdate(e){this.componentViewManager.onStateUpdate()}onDataChange(){this.componentViewManager.onDataChange()}}class ut extends u{}class dt extends ut{constructor(){super(...arguments),this.onClick=e=>{this.model.disabled||this.model.onClick(e,this.getPublicComponent())}}}class ft extends nt{constructor(){super(...arguments),this.iconContainerRef={current:null},this.buttonController=this.component.getController(dt)}get hasText(){return e(this.model.text)}get hasIcon(){return e(this.model.icon)}componentDidMount(){if(super.componentDidMount(),this.hasIcon){const{icon:e}=this.model;e.render(this.iconContainerRef.current)}}containerCssClass(){const e=["no-select",this.model.style];return this.hasIcon&&e.push(this.hasText?"with-icon":"only-icon"),this.model.elevated&&e.push("elevated"),this.model.disabled&&e.push("disabled"),super.containerCssClass(e)}render(){return T(1,"div",this.containerCssClass(),[this.hasIcon&&T(1,"span",this.cssClass("icon"),null,1,null,null,this.iconContainerRef),this.hasText&&T(1,"span",this.cssClass("text-content"),this.model.text,0)],0,{role:"button",tabIndex:0,onClick:this.eventHandler(this.buttonController.onClick)},null,this.rootRef)}}class ht extends ct{initialize(){this.setView(ft)}}class pt extends c{constructor(e){super(new a(e))}registerModules(){this.registerView(new ht(this)),this.registerController(new dt(this))}static render(e,t){return new pt(t).render(e)}}pt.componentName="Button";var vt=function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let mt=class extends s{constructor(){super(...arguments),this.label="",this.name=void 0,this.value="",this.onValueChange=t,this.style="filled",this.disabled=!1}};vt([r],mt.prototype,"label",void 0),vt([r],mt.prototype,"name",void 0),vt([r],mt.prototype,"value",void 0),vt([r],mt.prototype,"onValueChange",void 0),vt([r],mt.prototype,"style",void 0),vt([r],mt.prototype,"disabled",void 0),mt=vt([i],mt);class gt extends ut{onValueChange(e){this.model.disabled||(this.model.value=e.currentTarget.value,this.model.onValueChange(e,this.getPublicComponent()))}}class yt extends nt{constructor(){super(...arguments),this.inputRef={current:null},this.inputController=this.component.getController(gt)}componentDidMount(){super.componentDidMount(),this.view.inputElement=this.inputRef.current}containerCssClass(){const e=[this.model.style];return this.model.disabled&&e.push("disabled"),super.containerCssClass(e)}render(){const{component:e,model:t}=this.props,n=e.getController(gt),{label:o,value:r,name:i,disabled:s}=t;return T(1,"div",this.containerCssClass(),[o&&T(1,"label",this.cssClass(["no-select"]),o,0,{for:i}),T(64,"input",null,null,1,{type:"text",name:i,id:i,value:r,disabled:s,onInput:n.onValueChange.bind(n)},null,this.inputRef)],0,null,null,this.rootRef)}}class wt extends ct{initialize(){this.setView(yt)}}class Ct extends c{constructor(e){super(new mt(e))}registerModules(){this.registerView(new wt(this)),this.registerController(new gt(this))}static render(e,t){return new Ct(t).render(e)}}Ct.componentName="Input";var bt=function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let kt=class extends s{constructor(){super(...arguments),this.selectionEnabled=!1}};bt([r],kt.prototype,"selectionEnabled",void 0),kt=bt([i],kt);class $t extends ut{initialize(){}onItemClick(e,t){}}class xt extends ut{get config(){return this.dataSource.getConfig()}getItems(){return e=this,t=void 0,o=function*(){return yield this.dataSource.getItems()},new((n=void 0)||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}));var e,t,n,o}isItemSelected(t){return e(this.config.isSelected)?this.config.isSelected(t):t.selected}getItemText(t){return e(this.config.text)?this.config.text(t):t.text}}var It=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))};class St extends nt{constructor(e){super(e),this.state={items:[]},this.listController=this.component.getController($t),this.dataController=this.component.getController(xt)}componentDidMount(){return It(this,void 0,void 0,(function*(){const e=yield this.dataController.getItems();this.setState({items:e})}))}onDataChange(){return It(this,void 0,void 0,(function*(){const e=yield this.dataController.getItems();this.setState({items:e})}))}render(){const{model:e}=this.props,t=this.containerCssClass(),{selectionEnabled:n}=e;return T(1,"div",t,T(1,"ul",null,this.state.items.map(((e,t)=>T(1,"li",null,[n&&T(1,"div","jet-list-item-checkbox",T(64,"input",null,null,1,{type:"checkbox",value:this.dataController.isItemSelected(e)}),2),T(1,"div","jet-list-item-content",this.dataController.getItemText(e),0)],0,{onClick:t=>this.listController.onItemClick(t,e)},t))),0),2)}}class Pt extends ct{initialize(){this.setView(St)}}class Vt extends c{constructor(e,t){super(new kt(e),t)}registerModules(){this.registerView(new Pt(this)),this.registerController(new $t(this)),this.registerController(new xt(this))}static render(e,t,n){return new Vt(t,n).render(e)}}Vt.componentName="List";var Dt=function(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Mt=class extends s{constructor(){super(...arguments),this.size=20,this.style="outlined",this.fill=!1,this.weight=400,this.grade=0,this.opticalSize=24}};Dt([r],Mt.prototype,"icon",void 0),Dt([r],Mt.prototype,"size",void 0),Dt([r],Mt.prototype,"style",void 0),Dt([r],Mt.prototype,"fill",void 0),Dt([r],Mt.prototype,"weight",void 0),Dt([r],Mt.prototype,"grade",void 0),Dt([r],Mt.prototype,"opticalSize",void 0),Mt=Dt([i],Mt);class Ut extends nt{constructor(){super(...arguments),this.iconCssClass=`material-icons-${this.model.style} ${this.cssClass("no-select")}`,this.size=(e=>{if("number"==typeof e)return e+"px"})(this.model.size)}render(){return T(1,"span",this.iconCssClass,this.model.icon,0,{style:{"font-size":this.size}})}}class Nt extends ct{initialize(){this.setView(Ut)}}class Lt extends c{constructor(e){super(new Mt(e))}registerModules(){this.registerView(new Nt(this))}static render(e,t){return new Lt(t).render(e)}}Lt.componentName="Icon";class Ot{constructor(){this.change=new n,this.insert=new n,this.delete=new n,this.update=new n,this.full=new n}}class Ft{constructor(){this.dataChange=new n}}class jt extends Ft{static isArrayStoreConfig(t){return e(t.items)}constructor(e,t){super(),this.itemIdByKey={},this.items=[],this.keyOf=e,this.setItems(t.items)}setItems(t){this.itemIdByKey={},this.items=[];for(let n=0;n<t.length;n++){const o=t[n],r=this.keyOf(o);if(e(this.itemIdByKey[r]))throw new Error(`Item with key ${r} already exists`);this.items.push(o),this.itemIdByKey[r]=n}}get(e){const t=this.itemIdByKey[e],n=this.items[t];return Promise.resolve(n)}getAll(){return Promise.resolve(this.items)}insert(t,n,o){if(e(this.itemIdByKey[t]))throw new Error(`Item with key ${t} already exists`);const r=e(o)?o:this.items.length;return this.itemIdByKey[t]=r,this.items.splice(r,0,n),this.dataChange.emit({type:"insert",item:n}),Promise.resolve()}delete(e){const t=this.itemIdByKey[e],n=this.items[t];return delete this.itemIdByKey[e],this.items.splice(t,1),this.dataChange.emit({type:"delete",item:n}),Promise.resolve(n)}update(e,t){const n=this.itemIdByKey[e];return this.items[n]=t,this.dataChange.emit({type:"update",item:t}),Promise.resolve()}}var Rt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))};class Et{defaultGenerateKey(){return"JetID_"+Date.now()+Math.floor(1e4*Math.random())}constructor(t,n){var o;this.events=new Ot,this.key=t.key,this.generateKey=null!==(o=t.generateKey)&&void 0!==o?o:this.defaultGenerateKey,this.store=e(n)?n.store:this.createStore(t),this.store.dataChange.on(this.dataChangeHandler.bind(this))}createStore(e){const t=this.keyOf.bind(this);if(jt.isArrayStoreConfig(e.store))return new jt(t,e.store);throw new Error("Store type can not be determined")}dataChangeHandler(e){switch(this.events.change.emit(e),e.type){case"insert":return this.events.insert.emit(e);case"delete":return this.events.delete.emit(e);case"update":return this.events.update.emit(e);default:return}}keyOf(e){return e[this.key]}getItem(e){return Rt(this,void 0,void 0,(function*(){return yield this.store.get(e)}))}getItems(){return Rt(this,void 0,void 0,(function*(){return yield this.store.getAll()}))}insertItem(e,t){return Rt(this,void 0,void 0,(function*(){const n=this.keyOf(e)||this.generateKey(),o=Object.assign(Object.assign({},e),{[this.key]:n});yield this.store.insert(n,o,t)}))}deleteItem(e){return Rt(this,void 0,void 0,(function*(){const t="string"==typeof(n=e)||"number"==typeof n?e:this.keyOf(e);var n;return yield this.store.delete(t)}))}updateItem(t){return Rt(this,void 0,void 0,(function*(){const n=this.keyOf(t);if(!e(n))throw new Error("updateItem key is undefined");yield this.updateItemByKey(n,t)}))}updateItemByKey(e,t){return Rt(this,void 0,void 0,(function*(){yield this.store.update(e,t)}))}}class Wt extends Et{constructor(e,t){super(e,t),this.config=e}static create(e){return new Wt(e)}getConfig(){return this.config}forList(e){const t=Object.assign(Object.assign({},this.config),e);return new Wt(t,this)}}window.DataSource=Wt,window.Button=pt,window.Icon=Lt,window.Input=Ct,window.List=Vt})();
//# sourceMappingURL=jet.bundle.min.js.map
